(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{17189:(e,t,l)=>{Promise.resolve().then(l.bind(l,95468))},95468:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>ep});var a=l(95155),s=l(71349),r=l(99907),i=l(19445),n=l(1598),d=l(22815),c=l(60398),o=l(21376),h=l(2887),x=l(99080),u=l(62704),p=l(12115),m=l(21614),j=l(73937),y=l(99373),A=l(68773),g=l(40144),v=l(22810),f=l(2796),S=l(34810),b=l(24907),w=l(87014),I=l(97172),M=l(45100),N=l(89351),T=l(48904),E=l(19397),k=l(41379),V=l(29159),D=l.n(V),q=l(83872);let P=e=>{let{onDataSelect:t,onDataParse:l}=e,[r,i]=p.useState("system"),[n,d]=p.useState([{key:"1",name:"麻醉数据集2023",description:"全麻手术患者生命体征数据",count:1200,updateTime:"2023-12-01",type:"system"},{key:"2",name:"术后随访数据",description:"术后疼痛评分数据",count:850,updateTime:"2023-11-15",type:"system"}]);p.useEffect(()=>{c()},[]);let c=async()=>{try{let e=await q.C.getData();e.length>0&&d(t=>[...t,{key:"preprocessed",name:"预处理数据",description:"已完成预处理的分析数据",count:e.length,updateTime:new Date().toLocaleDateString(),type:"preprocessed",rawData:e}])}catch(e){console.error("加载预处理数据失败:",e)}},o=[{title:"数据集名称",dataIndex:"name",key:"name"},{title:"描述",dataIndex:"description",key:"description"},{title:"记录数",dataIndex:"count",key:"count"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"数据类型",dataIndex:"type",key:"type",render:e=>(0,a.jsx)(M.A,{color:"preprocessed"===e?"green":"blue",children:"preprocessed"===e?"预处理数据":"系统数据"})}];return(0,a.jsx)(s.A,{size:"small",title:"选择数据来源",bordered:!1,children:(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsxs)(N.Ay.Group,{value:r,onChange:e=>i(e.target.value),children:[(0,a.jsxs)(N.Ay.Button,{value:"system",children:[(0,a.jsx)(E.A,{})," 系统数据"]}),(0,a.jsxs)(N.Ay.Button,{value:"upload",children:[(0,a.jsx)(k.A,{})," 上传数据"]})]}),"upload"===r?(0,a.jsx)("div",{style:{padding:"16px 0"},children:(0,a.jsx)(T.A,{accept:".csv",beforeUpload:e=>("text/csv"===e.type||e.name.endsWith(".csv")?D().parse(e,{header:!0,dynamicTyping:!0,complete:e=>{if(e.errors.length>0){y.Ay.error("文件解析失败，请检查文件格式。");return}let t=e.meta.fields||[],a=e.data.map(e=>t.map(t=>e[t]));null==l||l(t,a),y.Ay.success("文件解析成功！")},error:()=>{y.Ay.error("文件解析失败，请检查文件格式。")}}):y.Ay.error("只支持上传 CSV 文件！"),!1),showUploadList:!1,children:(0,a.jsx)(b.Ay,{icon:(0,a.jsx)(k.A,{}),children:"上传CSV文件"})})}):(0,a.jsx)(g.A,{columns:o,dataSource:n,size:"small",pagination:!1,rowSelection:{type:"radio",onChange:(e,a)=>{let s=a[0];if("preprocessed"===s.type&&s.rawData){let e=Object.keys(s.rawData[0]),t=s.rawData.map(t=>e.map(e=>t[e]));null==l||l(e,t)}t(s.type,s.key)}}})]})})};class R{static calculateMean(e){return e.reduce((e,t)=>e+t)/e.length}static calculateVariance(e){let t=this.calculateMean(e);return e.reduce((e,l)=>e+Math.pow(l-t,2),0)/(e.length-1)}static matrixMultiply(e,t){let l=[];for(let a=0;a<e.length;a++){l[a]=[];for(let s=0;s<t[0].length;s++){let r=0;for(let l=0;l<t.length;l++)r+=e[a][l]*t[l][s];l[a][s]=r}}return l}static matrixInverse(e){let t=e.length,l=Array(t).fill(0).map((e,l)=>Array(t).fill(0).map((e,t)=>l===t?1:0)),a=e.map((e,t)=>[...e,...l[t]]);for(let e=0;e<t;e++){let l=Math.abs(a[e][e]),s=e;for(let r=e+1;r<t;r++)Math.abs(a[r][e])>l&&(l=Math.abs(a[r][e]),s=r);if(0===l)throw Error("Matrix is singular");s!==e&&([a[e],a[s]]=[a[s],a[e]]);for(let l=e+1;l<t;l++){let s=-a[l][e]/a[e][e];for(let r=e;r<2*t;r++)e===r?a[l][r]=0:a[l][r]+=s*a[e][r]}}for(let e=t-1;e>=0;e--)for(let l=e-1;l>=0;l--){let s=-a[l][e]/a[e][e];for(let r=0;r<2*t;r++)a[l][r]+=s*a[e][r]}for(let e=0;e<t;e++){let l=1/a[e][e];for(let s=0;s<2*t;s++)a[e][s]*=l}return a.map(e=>e.slice(t))}static tDistribution(e,t){let l=e/(e+Math.pow(t,2));return Math.sqrt(e*(1-l)/l)}static analyze(e,t,l){let a=e.length,s=e[0].length,r=e.map(e=>[1,...e]),i=t.map(e=>[e]),n=r[0].map((e,t)=>r.map(e=>e[t])),d=this.matrixMultiply(n,r),c=this.matrixInverse(d),o=this.matrixMultiply(n,i),h=this.matrixMultiply(c,o).map(e=>e[0]),x=h[0],u=h.slice(1),p=r.map(e=>e.reduce((e,t,l)=>e+t*h[l],0)),m=t.map((e,t)=>e-p[t]),j=this.calculateMean(t),y=t.reduce((e,t)=>e+Math.pow(t-j,2),0),A=m.reduce((e,t)=>e+Math.pow(t,2),0),g=1-A/y,v=1-(1-g)*(a-1)/(a-s-1),f=A/(a-s-1),S=h.map((e,t)=>Math.sqrt(f*c[t][t])),b=h.map((e,t)=>e/S[t]),w=b.map(e=>2*(1-this.tDistribution(a-s-1,Math.abs(e)))),I=(y-A)/s/(A/(a-s-1)),M=1-this.tDistribution(s,Math.sqrt(I)),N=0;for(let e=1;e<m.length;e++)N+=Math.pow(m[e]-m[e-1],2);let T=N/m.reduce((e,t)=>e+t*t,0),E=e[0].map((t,a)=>{let s=e.map(e=>e.filter((e,t)=>t!==a)),r=e.map(e=>e[a]);return 1/(1-this.analyze(s,r,l.filter((e,t)=>t!==a)).rSquared)}),k=this.tDistribution(a-s-1,.975),V=h.map((e,t)=>[e-k*S[t],e+k*S[t]]);return{coefficients:u,intercept:x,rSquared:g,adjustedRSquared:v,standardErrors:S.slice(1),tValues:b.slice(1),pValues:w.slice(1),fStatistic:I,fStatisticPValue:M,residuals:m,durbinWatson:T,vif:E,confidenceIntervals:V.slice(1).map(e=>[e[0],e[1]])}}}let z=e=>Number(e.toFixed(4)).toString();var C=l(53096),B=l(67495);let F=e=>{let{variableData:t,yAxisName:l}=e,[r,i]=(0,p.useState)(t.map(e=>e.variable)),n=e=>{var a;let s=(null===(a=t.find(t=>t.variable===e))||void 0===a?void 0:a.data)||[];return console.log("Plot data for ".concat(e,":"),s),{data:s,xField:"xValue",yField:"yValue",colorField:"variableName",size:5,shape:"circle",appendPadding:10,width:400,height:400,tooltip:{fields:["xValue","yValue","variableName"],title:"数据点详情"},xAxis:{title:{text:e},grid:{line:{style:{stroke:"#eee"}}},nice:!0},yAxis:{title:{text:l},grid:{line:{style:{stroke:"#eee"}}},nice:!0}}};return(0,a.jsx)(s.A,{title:"变量散点图分析 Variable Scatter Plots",children:(0,a.jsxs)(v.A,{gutter:[16,16],children:[(0,a.jsx)(f.A,{span:24,children:(0,a.jsx)(m.A,{mode:"multiple",style:{width:"100%"},placeholder:"选择要显示的变量",value:r,onChange:i,options:t.map(e=>({label:e.variable,value:e.variable}))})}),r.map(e=>{var l;return(0,a.jsx)(f.A,{span:12,children:(0,a.jsx)("div",{style:{height:450,border:"1px solid #f0f0f0",borderRadius:"2px",padding:"12px"},children:(null===(l=t.find(t=>t.variable===e))||void 0===l?void 0:l.data.length)?(0,a.jsx)(B.A,{...n(e)}):(0,a.jsx)(C.A,{description:"暂无数据"})})},e)})]})})},O={modelSummary:{title:"模型摘要 Model Summary",r:"相关系数 R",rSquared:"判定系数 R\xb2",adjustedRSquared:"调整的判定系数 Adjusted R\xb2",stdError:"估计的标准误差 Std. Error"},anova:{title:"方差分析表 ANOVA",source:"来源 Source",ss:"平方和 Sum of Squares",df:"自由度 df",ms:"均方 Mean Square",f:"F统计量 F-statistic",sig:"显著性 Sig."},coefficients:{title:"回归系数 Coefficients",variable:"变量 Variable",unstandardizedB:"非标准化系数 B",stdError:"标准误差 Std. Error",standardizedBeta:"标准化系数 Beta",tValue:"t值 t-value",sigValue:"显著性 Sig.",confidenceInterval:"95%置信区间 Confidence Interval",ciLower:"下限 Lower",ciUpper:"上限 Upper"}},_=e=>{let{data:t}=e,l=[{title:O.modelSummary.r,dataIndex:"r"},{title:O.modelSummary.rSquared,dataIndex:"rSquared"},{title:O.modelSummary.adjustedRSquared,dataIndex:"adjustedRSquared"},{title:O.modelSummary.stdError,dataIndex:"stdError"}],r=[{title:O.anova.source,dataIndex:"source"},{title:O.anova.ss,dataIndex:"ss"},{title:O.anova.df,dataIndex:"df"},{title:O.anova.ms,dataIndex:"ms"},{title:O.anova.f,dataIndex:"f"},{title:O.anova.sig,dataIndex:"sig"}],i=[{title:O.coefficients.variable,dataIndex:"variable"},{title:O.coefficients.unstandardizedB,dataIndex:"unstandardizedB"},{title:O.coefficients.stdError,dataIndex:"stdError"},{title:O.coefficients.standardizedBeta,dataIndex:"standardizedBeta"},{title:O.coefficients.tValue,dataIndex:"tValue"},{title:O.coefficients.sigValue,dataIndex:"sigValue"},{title:O.coefficients.confidenceInterval,children:[{title:O.coefficients.ciLower,dataIndex:"confidenceIntervalLower"},{title:O.coefficients.ciUpper,dataIndex:"confidenceIntervalUpper"}]}];return(0,a.jsx)("div",{style:{padding:24},children:(0,a.jsxs)(v.A,{gutter:[0,24],children:[(0,a.jsx)(f.A,{span:24,children:(0,a.jsx)(s.A,{title:"Model Summary",children:(0,a.jsx)(g.A,{dataSource:[t.modelSummary],columns:l,pagination:!1})})}),(0,a.jsx)(f.A,{span:24,children:(0,a.jsx)(s.A,{title:O.anova.title,children:(0,a.jsx)(g.A,{dataSource:t.anovaTable.rows,columns:r,pagination:!1})})}),(0,a.jsx)(f.A,{span:24,children:(0,a.jsx)(s.A,{title:O.coefficients.title,children:(0,a.jsx)(g.A,{dataSource:t.coefficients,columns:i,pagination:!1})})}),(0,a.jsx)(f.A,{span:24,children:(0,a.jsx)(F,{variableData:t.residualStats.variableScatterData,yAxisName:t.yAxisName})})]})})},{Option:U}=m.A,{Title:W,Text:L,Paragraph:K}=j.A,G=()=>{let[e,t]=(0,p.useState)([]),[l,r]=(0,p.useState)([]),[n,d]=(0,p.useState)(""),[c,o]=(0,p.useState)([]),[h,x]=(0,p.useState)(),[u,j]=y.Ay.useMessage(),[M,N]=(0,p.useState)(null),T=(e,t)=>t.some((t,l)=>{let a=e.map(e=>e[l]);return a.every(e=>e===a[0])})?"选择的自变量中包含固定值列，这会导致回归分析无法进行。请选择有变化的变量。":t.length>1&&E(e).some((e,t)=>e.some((e,l)=>t!==l&&Math.abs(e)>.8))?"选择的自变量之间存在强相关性（相关系数>0.8），这可能导致多重共线性问题。建议选择相关性较低的变量。":e.length<10*t.length?"样本量不足。对于".concat(t.length,"个自变量，建议至少需要").concat(10*t.length,"个样本，当前仅有").concat(e.length,"个样本。"):null,E=e=>{let t=e[0].length,l=Array(t).fill(0).map(()=>Array(t).fill(0));for(let a=0;a<t;a++)for(let s=0;s<t;s++){let t=e.map(e=>e[a]),r=e.map(e=>e[s]);l[a][s]=k(t,r)}return l},k=(e,t)=>{let l=e.reduce((e,t)=>e+t)/e.length,a=t.reduce((e,t)=>e+t)/t.length,s=0,r=0,i=0;for(let n=0;n<e.length;n++){let d=e[n]-l,c=t[n]-a;s+=d*c,r+=d*d,i+=c*c}return s/Math.sqrt(r*i)},V=e.slice(0,100).map((e,t)=>{let a={key:t};return l.forEach((t,l)=>{a[t]=e[l]}),a});return(0,a.jsxs)("div",{className:"analysis-tool",children:[j,(0,a.jsxs)(s.A,{title:"回归分析工具",className:"method-intro",children:[(0,a.jsx)(W,{level:4,children:"方法介绍"}),(0,a.jsx)(K,{children:"多元线性回归分析是研究因变量与多个自变量之间线性关系的统计方法。它通过建立数学模型来描述变量间的关系, 并可用于预测和解释变量之间的影响程度。"}),(0,a.jsx)(W,{level:4,children:"数据要求"}),(0,a.jsx)(K,{children:"- 因变量：连续型数值变量 - 自变量：连续型或分类型变量 - 样本量：建议不小于自变量个数的5-10倍"}),(0,a.jsx)(W,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(P,{onDataSelect:(e,t)=>console.log(e,t),onDataParse:(e,l)=>{r(e),t(l)}}),l.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{size:"small",title:"数据预览",children:(0,a.jsx)(g.A,{dataSource:V,columns:l.map(e=>({title:e,dataIndex:e,key:e})),pagination:{pageSize:5},size:"small",scroll:{x:!0}})}),(0,a.jsxs)(s.A,{size:"small",title:"变量选择",children:[(0,a.jsxs)(v.A,{gutter:[16,16],children:[(0,a.jsxs)(f.A,{span:12,children:[(0,a.jsx)(L,{strong:!0,children:"因变量:"}),(0,a.jsx)(m.A,{placeholder:"选择因变量",style:{width:"100%",marginTop:"8px"},value:n,onChange:e=>{if(c.includes(e)){u.warning('"'.concat(e,'" 已被选为自变量，不能同时作为因变量！'));return}d(e)},children:l.map(e=>(0,a.jsx)(U,{value:e,disabled:c.includes(e),children:(0,a.jsx)(S.A,{title:c.includes(e)?'"'.concat(e,'" 已被选为自变量，不能同时作为因变量！'):null,children:e})},e))})]}),(0,a.jsxs)(f.A,{span:12,children:[(0,a.jsx)(L,{strong:!0,children:"自变量:"}),(0,a.jsx)(m.A,{mode:"multiple",placeholder:"选择自变量",style:{width:"100%",marginTop:"8px"},value:c,onChange:e=>{if(e.includes(n)){u.warning('"'.concat(n,'" 已被选为因变量，不能同时作为自变量！'));return}o(e)},children:l.map(e=>(0,a.jsx)(U,{value:e,disabled:e===n,children:(0,a.jsx)(S.A,{title:e===n?'"'.concat(e,'" 已被选为因变量，不能同时作为自变量！'):null,children:e})},e))})]})]}),(0,a.jsx)(b.Ay,{type:"primary",onClick:()=>{if(!n||0===c.length){u.warning("请选择因变量和至少一个自变量！");return}let t=l.indexOf(n),a=c.map(e=>l.indexOf(e)),s=e.map(e=>a.map(t=>e[t])),r=e.map(e=>e[t]),i=T(s,c);if(i){N(i);return}N(null);try{let e=R.analyze(s,r,c),t=function(e,t,l,a,s){let r=Math.sqrt(e.rSquared),i=s.length,n=t.length,d=s.reduce((e,t)=>e+t)/i,c=s.reduce((e,t)=>e+Math.pow(t-d,2),0),o=e.residuals.reduce((e,t)=>e+Math.pow(t,2),0),h=c-o,x=t.map((e,t)=>{let l=a.map((l,a)=>({variableName:e,xValue:Number(l[t].toFixed(4)),yValue:Number(s[a].toFixed(4)),index:a}));return console.log("Transformed data for ".concat(e,":"),l),{variable:e,data:l}}),u={rows:[{key:"regression",source:"回归 Regression",ss:z(h),df:n,ms:z(h/n),f:z(e.fStatistic),sig:z(e.fStatisticPValue)},{key:"residual",source:"残差 Residual",ss:z(o),df:i-n-1,ms:z(o/(i-n-1))},{key:"total",source:"总计 Total",ss:z(c),df:i-1,ms:"-"}]},p=t.map((t,l)=>({variable:t,unstandardizedB:z(e.coefficients[l]),stdError:z(e.standardErrors[l]),standardizedBeta:z(e.coefficients[l]*Math.sqrt(e.vif[l])),tValue:z(e.tValues[l]),sigValue:z(e.pValues[l]),confidenceIntervalLower:z(e.confidenceIntervals[l][0]),confidenceIntervalUpper:z(e.confidenceIntervals[l][1])}));return{modelSummary:{r:z(r),rSquared:z(e.rSquared),adjustedRSquared:z(e.adjustedRSquared),stdError:z(Math.sqrt(o/(i-n-1)))},anovaTable:u,coefficients:p,residualStats:{predictedValues:s.map((t,l)=>t-e.residuals[l]),predictedValuesFormatted:s.map((t,l)=>z(t-e.residuals[l])),residuals:e.residuals,residualsFormatted:e.residuals.map(e=>z(e)),standardizedResiduals:e.residuals.map(e=>e/Math.sqrt(o/(i-n-1))),standardizedResidualsFormatted:e.residuals.map(e=>z(e/Math.sqrt(o/(i-n-1)))),actual:s,variableScatterData:x},yAxisName:l}}(e,c,n,s,r);x(t)}catch(e){N("回归分析失败: ".concat(e.message))}},style:{marginTop:"16px"},icon:(0,a.jsx)(i.A,{}),children:"执行回归分析"})]})]})]}),M&&(0,a.jsx)(w.A,{message:"数据验证错误",description:(0,a.jsxs)(A.A,{children:[(0,a.jsx)(I.A,{}),M]}),type:"error",showIcon:!0,style:{marginTop:16,marginBottom:16}}),(0,a.jsx)(w.A,{message:"结果说明",description:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"R\xb2：决定系数，表示模型解释变异的程度，取值0-1，越接近1表示模型拟合越好"}),(0,a.jsx)("li",{children:"调整R\xb2：考虑自变量数量的R\xb2修正值"}),(0,a.jsx)("li",{children:"F统计量：用于检验回归方程的显著性"}),(0,a.jsx)("li",{children:"系数：表示每个自变量对因变量的影响程度"}),(0,a.jsx)("li",{children:"P值：小于0.05表示该变量具有统计学意义"})]}),type:"info",showIcon:!0,style:{marginTop:16}}),h&&(0,a.jsx)(s.A,{size:"small",title:"分析结果",style:{marginTop:16},children:(0,a.jsx)(_,{data:h})})]})]})},{Title:H,Paragraph:Z}=j.A,J=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"T检验分析工具",className:"method-intro",children:[(0,a.jsx)(H,{level:4,children:"方法介绍"}),(0,a.jsx)(Z,{children:"T检验用于比较两组数据的均值是否存在显著差异。常用于临床研究中比较两组患者的指标差异。"}),(0,a.jsx)(H,{level:4,children:"数据要求"}),(0,a.jsx)(Z,{children:"- 数据格式：CSV或Excel文件 - 要求：两组数据都应呈正态分布 - 变量：一个分组变量（两组）和一个测量变量"}),(0,a.jsx)(H,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(m.A,{placeholder:"选择T检验类型",style:{width:200},options:[{value:"independent",label:"独立样本T检验"},{value:"paired",label:"配对样本T检验"}]}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：描述性统计量、T统计量、P值、95%置信区间等。",type:"info",showIcon:!0,style:{marginTop:16}})]})}),{Title:Q,Paragraph:X}=j.A,Y=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"方差分析工具",className:"method-intro",children:[(0,a.jsx)(Q,{level:4,children:"方法介绍"}),(0,a.jsx)(X,{children:"方差分析(ANOVA)用于比较三个或更多组之间的差异。适用于临床研究中多组数据的比较。"}),(0,a.jsx)(Q,{level:4,children:"数据要求"}),(0,a.jsx)(X,{children:"- 数据格式：CSV或Excel文件 - 要求：各组数据应呈正态分布，且方差相等 - 变量：一个分组变量（≥3组）和一个测量变量"}),(0,a.jsx)(Q,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(m.A,{placeholder:"选择方差分析类型",style:{width:200},options:[{value:"oneway",label:"单因素方差分析"},{value:"twoway",label:"双因素方差分析"},{value:"repeated",label:"重复测量方差分析"}]}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：描述性统计量、F统计量、P值、组间多重比较等。",type:"info",showIcon:!0,style:{marginTop:16}})]})}),{Title:$,Paragraph:ee}=j.A,et=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"卡方检验工具",className:"method-intro",children:[(0,a.jsx)($,{level:4,children:"方法介绍"}),(0,a.jsx)(ee,{children:"卡方检验用于分析分类变量之间是否存在关联。常用于比较不同组别间某一分类变量的分布是否有显著差异， 如比较两种治疗方案的有效率、不良反应发生率等。"}),(0,a.jsx)($,{level:4,children:"数据要求"}),(0,a.jsx)(ee,{children:"- 数据格式：CSV或Excel文件，或直接输入列联表数据 - 变量类型：分类变量（如是/否、A/B/C等） - 样本量要求：期望频数≥5"}),(0,a.jsx)($,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(m.A,{placeholder:"选择分析类型",style:{width:200},options:[{value:"independence",label:"独立性检验"},{value:"goodness",label:"拟合优度检验"},{value:"trend",label:"趋势性检验"}]}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：卡方值、自由度、P值、期望频数表、列联表等。当样本量较小时会自动提供Fisher精确检验结果。",type:"info",showIcon:!0,style:{marginTop:16}})]})}),{Title:el,Paragraph:ea}=j.A,es=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"秩和检验工具",className:"method-intro",children:[(0,a.jsx)(el,{level:4,children:"方法介绍"}),(0,a.jsx)(ea,{children:"秩和检验是一种非参数统计方法，适用于不符合正态分布或无法确定分布类型的数据比较。 包括Mann-Whitney U检验（两独立样本）和Wilcoxon符号秩检验（配对样本）。"}),(0,a.jsx)(el,{level:4,children:"数据要求"}),(0,a.jsx)(ea,{children:"- 数据格式：CSV或Excel文件 - 适用情况：数据不呈正态分布，或为等级资料 - 变量：分组变量和测量变量（或配对数据）"}),(0,a.jsx)(el,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(m.A,{placeholder:"选择检验类型",style:{width:200},options:[{value:"mannWhitney",label:"Mann-Whitney U检验"},{value:"wilcoxon",label:"Wilcoxon符号秩检验"},{value:"kruskal",label:"Kruskal-Wallis H检验"}]}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：秩和统计量、Z值、P值、效应量等。对于多组比较会自动进行事后检验。",type:"info",showIcon:!0,style:{marginTop:16}})]})});var er=l(83414),ei=l(18198);let{Title:en,Paragraph:ed}=j.A,ec=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"Fisher精确检验工具",className:"method-intro",children:[(0,a.jsx)(en,{level:4,children:"方法介绍"}),(0,a.jsx)(ed,{children:"Fisher精确检验适用于样本量较小（特别是期望频数小于5）的分类数据分析。常用于小样本临床试验中分类指标的比较， 如罕见病研究中不良反应发生率的比较。"}),(0,a.jsx)(en,{level:4,children:"数据要求"}),(0,a.jsx)(ed,{children:"- 数据输入：可直接输入2\xd72列联表数据，或上传原始数据 - 变量类型：二分类变量 - 适用情况：样本量小，尤其是有格子的期望频数小于5"}),(0,a.jsx)(en,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(er.A,{layout:"vertical",children:(0,a.jsx)(er.A.Item,{label:"直接输入2\xd72列联表数据",children:(0,a.jsxs)(A.A,{children:[(0,a.jsx)(ei.A,{placeholder:"a",min:0}),(0,a.jsx)(ei.A,{placeholder:"b",min:0}),(0,a.jsx)("br",{}),(0,a.jsx)(ei.A,{placeholder:"c",min:0}),(0,a.jsx)(ei.A,{placeholder:"d",min:0})]})})}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：Fisher精确概率、单侧P值、双侧P值、精确置信区间等。",type:"info",showIcon:!0,style:{marginTop:16}})]})});var eo=l(9365);let{Title:eh,Paragraph:ex}=j.A,eu=()=>(0,a.jsx)("div",{className:"analysis-tool",children:(0,a.jsxs)(s.A,{title:"配对卡方检验(McNemar检验)工具",className:"method-intro",children:[(0,a.jsx)(eh,{level:4,children:"方法介绍"}),(0,a.jsx)(ex,{children:"McNemar检验用于配对设计中二分类数据的比较，常用于前后自身对照研究，如治疗前后症状改善情况的比较， 或两种诊断方法对同一组病例的诊断结果比较。"}),(0,a.jsx)(eh,{level:4,children:"数据要求"}),(0,a.jsx)(ex,{children:"- 数据输入：配对的二分类数据（2\xd72表） - 研究设计：配对或自身对照设计 - 变量类型：二分类变量（如是/否、阳性/阴性）"}),(0,a.jsx)(eh,{level:4,children:"分析选项"}),(0,a.jsxs)(A.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(er.A,{layout:"vertical",children:(0,a.jsx)(er.A.Item,{label:"输入配对数据",children:(0,a.jsxs)(A.A,{direction:"vertical",children:[(0,a.jsx)("span",{children:"第二次测量（或方法B）"}),(0,a.jsxs)(A.A,{children:[(0,a.jsx)("span",{children:"第一次测量（或方法A）"}),(0,a.jsx)(ei.A,{placeholder:"阳-阳",min:0}),(0,a.jsx)(ei.A,{placeholder:"阳-阴",min:0}),(0,a.jsx)("br",{}),(0,a.jsx)(ei.A,{placeholder:"阴-阳",min:0}),(0,a.jsx)(ei.A,{placeholder:"阴-阴",min:0})]})]})})}),(0,a.jsx)(eo.A,{children:"或"}),(0,a.jsx)(P,{onDataSelect:(e,t)=>{console.log("Selected data:",e,t)}}),(0,a.jsx)(b.Ay,{type:"primary",children:"开始分析"})]}),(0,a.jsx)(w.A,{message:"结果说明",description:"分析结果将包含：McNemar卡方值、P值、优势比及其置信区间等。若不一致对数小于25，将自动使用精确概率法。",type:"info",showIcon:!0,style:{marginTop:16}})]})}),ep=()=>{let e=[{key:"regression",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(i.A,{}),"回归分析"]}),children:(0,a.jsx)(G,{})},{key:"ttest",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(n.A,{}),"T检验"]}),children:(0,a.jsx)(J,{})},{key:"anova",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(d.A,{}),"方差分析"]}),children:(0,a.jsx)(Y,{})},{key:"wilcoxon",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(c.A,{}),"秩和检验"]}),children:(0,a.jsx)(es,{})},{key:"chisquare",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(o.A,{}),"卡方检验"]}),children:(0,a.jsx)(et,{})},{key:"fisher",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(h.A,{}),"Fisher精确检验"]}),children:(0,a.jsx)(ec,{})},{key:"mcnemar",label:(0,a.jsxs)("span",{children:[(0,a.jsx)(x.A,{}),"配对卡方检验"]}),children:(0,a.jsx)(eu,{})}];return(0,a.jsx)(s.A,{title:(0,a.jsxs)("span",{style:{fontSize:"18px",fontWeight:500},children:[(0,a.jsx)(u.A,{style:{marginRight:8}}),"数据分析工具集"]}),className:"analysis-card",children:(0,a.jsx)(r.A,{defaultActiveKey:"regression",items:e,type:"card",size:"large",className:"analysis-tabs"})})}},83872:(e,t,l)=>{"use strict";l.d(t,{C:()=>s});class a{async init(){return new Promise((e,t)=>{let l=indexedDB.open(this.DB_NAME,1);l.onerror=()=>t(l.error),l.onsuccess=()=>{this.db=l.result,e()},l.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(this.STORE_NAME)||t.createObjectStore(this.STORE_NAME,{keyPath:"id",autoIncrement:!0})}})}async saveData(e){return this.db||await this.init(),new Promise((t,l)=>{let a=this.db.transaction([this.STORE_NAME],"readwrite"),s=a.objectStore(this.STORE_NAME);s.clear(),e.forEach(e=>{s.add(e)}),a.oncomplete=()=>t(),a.onerror=()=>l(a.error)})}async getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this.db||await this.init(),new Promise((t,l)=>{let a=this.db.transaction([this.STORE_NAME],"readonly").objectStore(this.STORE_NAME).openCursor(),s=[];a.onsuccess=l=>{let a=l.target.result;a&&s.length<e?(s.push(a.value),a.continue()):t(s)},a.onerror=()=>l(a.error)})}constructor(){this.db=null,this.STORE_NAME="processedData",this.DB_NAME="regressionDB"}}let s=new a}},e=>{var t=t=>e(e.s=t);e.O(0,[935,826,163,56,93,579,348,933,373,144,414,910,139,306,95,441,517,358],()=>t(17189)),_N_E=e.O()}]);