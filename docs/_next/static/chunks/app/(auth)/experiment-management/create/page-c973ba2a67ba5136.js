(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{96554:(e,l,i)=>{Promise.resolve().then(i.bind(i,41880))},41880:(e,l,i)=>{"use strict";i.r(l),i.d(l,{default:()=>el});var t=i(95155),a=i(12115),r=i(99373),n=i(71349),s=i(93779),d=i(24907),o=i(83043),c=i(55474),u=i(62236),m=i(83414),x=i(99827);let p=(0,x.v)(e=>({basicInfo:{},dataTemplate:{sourceFrom:"select",isPublic:!1},setBasicInfo:l=>e({basicInfo:l}),setDataTemplate:l=>e({dataTemplate:l}),reset:()=>e({basicInfo:{},dataTemplate:null})})),{RangePicker:h}=c.A,{TextArea:v}=u.A,j=()=>{let[e]=m.A.useForm(),{basicInfo:l,setBasicInfo:i}=p();return(0,a.useEffect)(()=>{e.setFieldsValue(l)},[e,l]),(0,t.jsxs)(m.A,{form:e,layout:"vertical",initialValues:l,onValuesChange:(e,l)=>{i(l)},children:[(0,t.jsx)(m.A.Item,{label:"实验主题",name:"experimentTitle",rules:[{required:!0,message:"请输入实验主题"}],children:(0,t.jsx)(u.A,{placeholder:"请输入实验主题"})}),(0,t.jsx)(m.A.Item,{label:"实验目标",name:"experimentObjective",rules:[{required:!0,message:"请输入实验目标"}],children:(0,t.jsx)(v,{rows:4,placeholder:"请输入实验目标"})}),(0,t.jsx)(m.A.Item,{label:"实验内容",name:"experimentContent",rules:[{required:!0,message:"请输入实验内容"}],children:(0,t.jsx)(v,{rows:4,placeholder:"请输入实验内容"})}),(0,t.jsx)(m.A.Item,{label:"实验周期",name:"experimentPeriod",rules:[{required:!0,message:"请选择实验周期"}],children:(0,t.jsx)(h,{style:{width:"100%"}})}),(0,t.jsx)(m.A.Item,{label:"关键产出",name:"keyOutput",rules:[{required:!0,message:"请输入关键产出"}],children:(0,t.jsx)(v,{rows:4,placeholder:"请输入关键产出"})}),(0,t.jsx)(m.A.Item,{label:"关键节点",name:"keyMilestones",rules:[{required:!0,message:"请输入关键节点"}],children:(0,t.jsx)(v,{rows:4,placeholder:"请输入关键节点，每行一个"})})]})};var b=i(89351),A=i(96030),y=i(9365),g=i(68773),f=i(45100),k=i(34810),I=i(92895),_=i(97295),q=i(97172),C=i(80519),w=i(86260),F=i(27656),T=i(42426),V=i(18198),S=i(82133),B=i(99907),P=i(21614),Y=i(87014),M=i(64599),O=i(72044),N=i(89797);let z=e=>{var l;let{field:i}=e;return(0,t.jsx)(m.A.Item,{label:(0,t.jsxs)(t.Fragment,{children:[i.label,i.required&&(0,t.jsx)("span",{style:{color:"#ff4d4f",marginLeft:4},children:"*"})]}),tooltip:i.description,help:null===(l=i.validation)||void 0===l?void 0:l.message,children:(()=>{var e,l,a,r,n,s;let d={placeholder:i.placeholder,disabled:!0,style:i.width?{width:i.width}:void 0};switch(i.type){case"text":default:return(0,t.jsx)(u.A,{...d});case"textarea":return(0,t.jsx)(u.A.TextArea,{...d,rows:4});case"number":return(0,t.jsx)(V.A,{...d,style:{width:"100%"},min:null===(e=i.validation)||void 0===e?void 0:e.min,max:null===(l=i.validation)||void 0===l?void 0:l.max});case"date":return(0,t.jsx)(c.A,{...d,style:{width:"100%"}});case"time":return(0,t.jsx)(O.A,{...d,style:{width:"100%"}});case"radio":return(0,t.jsx)(b.Ay.Group,{...d,children:null===(a=i.options)||void 0===a?void 0:a.map(e=>(0,t.jsx)(b.Ay,{value:e.value,style:{display:"vertical"===i.layout?"block":"inline-block",marginBottom:"vertical"===i.layout?8:0},children:e.label},e.value))});case"checkbox":return(0,t.jsx)(I.A.Group,{...d,children:null===(r=i.options)||void 0===r?void 0:r.map(e=>(0,t.jsx)(I.A,{value:e.value,style:{display:"vertical"===i.layout?"block":"inline-block",marginBottom:"vertical"===i.layout?8:0},children:e.label},e.value))});case"select":return(0,t.jsx)(P.A,{...d,options:i.options});case"range":return(0,t.jsx)(N.A,{range:!0,...d,min:null===(n=i.validation)||void 0===n?void 0:n.min,max:null===(s=i.validation)||void 0===s?void 0:s.max,defaultValue:i.defaultValue})}})()})},D=e=>{let{open:l,field:i,onClose:r,onSave:n}=e,[s]=m.A.useForm(),[o,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{i&&(s.setFieldsValue(i),c(i))},[i,s]);let x=async()=>{try{let e=await s.validateFields();n({...i,...e}),r()}catch(e){console.error("Validate Failed:",e)}};return(0,t.jsx)(S.A,{title:"字段配置",width:800,open:l,onClose:r,extra:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(d.Ay,{onClick:r,children:"取消"}),(0,t.jsx)(d.Ay,{type:"primary",onClick:x,children:"确定"})]}),children:(0,t.jsx)(B.A,{items:[{key:"basic",label:"基本设置",children:(0,t.jsxs)(m.A,{form:s,layout:"vertical",initialValues:i||{},onValuesChange:()=>{let e=s.getFieldsValue();c({...i,...e})},children:[(0,t.jsx)(m.A.Item,{name:"label",label:"字段名称",rules:[{required:!0,message:"请输入字段名称"}],children:(0,t.jsx)(u.A,{})}),(0,t.jsx)(m.A.Item,{name:"type",label:"字段类型",rules:[{required:!0}],children:(0,t.jsx)(P.A,{options:[{label:"单行文本",value:"text"},{label:"多行文本",value:"textarea"},{label:"数字",value:"number"},{label:"单选",value:"radio"},{label:"多选",value:"checkbox"},{label:"下拉选择",value:"select"},{label:"日期",value:"date"},{label:"时间",value:"time"}]})}),(0,t.jsx)(m.A.Item,{name:"description",label:"字段说明",children:(0,t.jsx)(u.A.TextArea,{rows:2})}),(0,t.jsx)(m.A.Item,{name:"placeholder",label:"占位提示",children:(0,t.jsx)(u.A,{})}),(0,t.jsx)(m.A.Item,{name:"required",valuePropName:"checked",children:(0,t.jsx)(T.A,{checkedChildren:"必填",unCheckedChildren:"选填"})}),(()=>{let e=s.getFieldValue("type");return["select","radio","checkbox"].includes(e)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(m.A.List,{name:"options",children:(l,i)=>{let{add:a,remove:r}=i;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.A.Item,{label:"选项配置",children:[l.map(e=>(0,t.jsxs)(g.A,{align:"baseline",style:{display:"flex",marginBottom:8},children:[(0,t.jsx)(m.A.Item,{...e,name:[e.name,"label"],rules:[{required:!0,message:"请输入选项文本"}],children:(0,t.jsx)(u.A,{placeholder:"选项文本",style:{width:200}})}),(0,t.jsx)(m.A.Item,{...e,name:[e.name,"value"],rules:[{required:!0,message:"请输入选项值"}],children:(0,t.jsx)(u.A,{placeholder:"选项值",style:{width:200}})}),(0,t.jsx)(m.A.Item,{...e,name:[e.name,"defaultChecked"],valuePropName:"checked",children:(0,t.jsx)(T.A,{size:"small",checkedChildren:"默认",unCheckedChildren:"默认"})}),(0,t.jsx)(M.A,{onClick:()=>r(e.name)})]},e.key)),(0,t.jsx)(d.Ay,{type:"dashed",onClick:()=>a({label:"",value:""}),block:!0,icon:(0,t.jsx)(A.A,{}),children:"添加选项"})]}),(0,t.jsx)(m.A.Item,{name:"layout",label:"选项布局",children:(0,t.jsxs)(b.Ay.Group,{children:[(0,t.jsx)(b.Ay.Button,{value:"horizontal",children:"水平排列"}),(0,t.jsx)(b.Ay.Button,{value:"vertical",children:"垂直排列"})]})}),"checkbox"===e&&(0,t.jsx)(m.A.Item,{name:["validation","maxChecked"],label:"最多可选",children:(0,t.jsx)(V.A,{min:1})})]})}})}):null})(),(()=>{let e=s.getFieldValue("type");return(0,t.jsxs)(t.Fragment,{children:[["text","textarea"].includes(e)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A.Item,{name:["validation","minLength"],label:"最小长度",children:(0,t.jsx)(V.A,{min:0})}),(0,t.jsx)(m.A.Item,{name:["validation","maxLength"],label:"最大长度",children:(0,t.jsx)(V.A,{min:0})}),(0,t.jsx)(m.A.Item,{name:["validation","pattern"],label:"正则表达式",children:(0,t.jsx)(u.A,{placeholder:"输入正则表达式"})})]}),"number"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A.Item,{name:["validation","min"],label:"最小值",children:(0,t.jsx)(V.A,{})}),(0,t.jsx)(m.A.Item,{name:["validation","max"],label:"最大值",children:(0,t.jsx)(V.A,{})}),(0,t.jsx)(m.A.Item,{name:["validation","precision"],label:"小数位数",children:(0,t.jsx)(V.A,{min:0,max:10})})]})]})})()]})},{key:"preview",label:"实时预览",children:o&&(0,t.jsxs)("div",{style:{padding:"24px 0"},children:[(0,t.jsx)(Y.A,{message:"预览效果",description:"以下是字段在表单中的实际显示效果",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,t.jsx)(z,{field:o})]})}]})})},E=()=>{let[e]=m.A.useForm(),[l,i]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),{dataTemplate:x={},setDataTemplate:h}=p(),{fields:v=[],name:j,description:b}=x,T=e=>{let l=v.filter(l=>l.id!==e);h({...x,fields:[...l]})},V=e=>{i(e)},S=e=>{s(e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.A,{form:e,layout:"vertical",initialValues:{name:j,description:b},onValuesChange:e=>{h({...x,...e})},children:[(0,t.jsx)(m.A.Item,{name:"name",label:"模板名称",rules:[{required:!0,message:"请输入模板名称"}],children:(0,t.jsx)(u.A,{placeholder:"请输入模板名称"})}),(0,t.jsx)(m.A.Item,{name:"description",label:"模板描述",children:(0,t.jsx)(u.A.TextArea,{placeholder:"请输入模板描述"})}),(0,t.jsx)(y.A,{children:"字段配置"}),(0,t.jsx)("div",{children:null==v?void 0:v.map(e=>(0,t.jsx)(n.A,{style:{marginBottom:16},children:(0,t.jsxs)(g.A,{align:"baseline",style:{width:"100%",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("h4",{children:e.label||"未命名字段"}),(0,t.jsxs)(g.A,{size:8,children:[(0,t.jsx)(f.A,{color:"blue",children:e.type}),e.required&&(0,t.jsx)(f.A,{color:"red",children:"必填"}),e.description&&(0,t.jsx)(k.A,{title:e.description,children:(0,t.jsx)(q.A,{})})]})]}),(0,t.jsxs)(g.A,{children:[(0,t.jsx)(d.Ay,{type:"text",icon:(0,t.jsx)(C.A,{}),onClick:()=>S(e)}),(0,t.jsx)(d.Ay,{type:"text",icon:(0,t.jsx)(w.A,{}),onClick:()=>V(e)}),(0,t.jsx)(d.Ay,{type:"text",danger:!0,icon:(0,t.jsx)(F.A,{}),onClick:()=>T(e.id)})]})]})},e.id))}),(0,t.jsx)(d.Ay,{type:"dashed",onClick:()=>{var l;let i={id:"field_".concat(null!==(l=null==v?void 0:v.length)&&void 0!==l?l:0),label:"",type:"text",required:!1};h({...x,fields:[...v,i]}),e.setFieldValue("field_".concat(v.length,"_label"),"未命名字段"),e.setFieldValue("field_".concat(v.length,"_type"),"text"),e.setFieldValue("field_".concat(v.length,"_required"),!1)},block:!0,icon:(0,t.jsx)(A.A,{}),children:"添加字段"}),(0,t.jsxs)(m.A.Item,{style:{marginTop:24},children:[(0,t.jsx)(I.A,{checked:o,onChange:e=>c(e.target.checked),children:"保存为公共模板"}),(0,t.jsx)("div",{style:{color:"#666",fontSize:12,marginTop:4},children:"选中后将在创建实验时自动保存至公共模板库"})]})]}),(0,t.jsx)(D,{open:!!l,field:l,onClose:()=>i(null),onSave:e=>{let l=v.map(l=>l.id===e.id?e:l);h({...x,fields:[...l]}),i(null)}}),(0,t.jsx)(_.A,{title:"字段预览",open:!!r,onCancel:()=>s(null),footer:null,children:(0,t.jsx)(z,{field:r})})]})};var G=i(53096),L=i(7787);let H=JSON.parse('{"k":[{"id":"template_001","name":"标准生命体征监测模板","description":"用于记录患者基础生命体征的标准化模板，包含体温、血压、心率等核心指标","isPublic":true,"createdBy":"system","createdAt":"2024-03-01","fields":[{"id":"vital_001","label":"体温","type":"number","required":true,"description":"腋下测量，单位：℃","validation":{"min":35,"max":42,"precision":1},"placeholder":"请输入体温数值"},{"id":"vital_002","label":"血压","type":"text","required":true,"description":"收缩压/舒张压，单位：mmHg","placeholder":"例如：120/80","validation":{"pattern":"^\\\\d{2,3}\\\\/\\\\d{2,3}$","message":"请输入正确的血压格式，如：120/80"}},{"id":"vital_003","label":"心率","type":"number","required":true,"description":"单位：次/分钟","validation":{"min":40,"max":180},"placeholder":"请输入心率数值"},{"id":"vital_004","label":"血氧饱和度","type":"number","required":true,"description":"单位：%","validation":{"min":0,"max":100,"precision":0},"placeholder":"请输入血氧饱和度"}]},{"id":"template_002","name":"麻醉术前评估表","description":"全面的麻醉术前评估模板，包含患者基本情况、既往史、过敏史等关键信息","isPublic":true,"createdBy":"system","createdAt":"2024-03-05","fields":[{"id":"pre_001","label":"ASA分级","type":"radio","required":true,"description":"美国麻醉医师协会体格状态分级","options":[{"label":"ASA I级：健康","value":"1"},{"label":"ASA II级：轻度系统性疾病","value":"2"},{"label":"ASA III级：重度系统性疾病","value":"3"},{"label":"ASA IV级：威胁生命的系统性疾病","value":"4"},{"label":"ASA V级：濒死病人","value":"5"}],"layout":"vertical"},{"id":"pre_002","label":"既往手术史","type":"textarea","required":true,"description":"请详细描述既往手术经历和麻醉情况","placeholder":"请描述手术时间、类型、麻醉方式等信息"},{"id":"pre_003","label":"过敏史","type":"checkbox","required":true,"options":[{"label":"未发现过敏史","value":"none"},{"label":"局麻药","value":"local"},{"label":"抗生素","value":"antibiotic"},{"label":"止痛药","value":"painkiller"},{"label":"其他药物","value":"other"}],"layout":"vertical"},{"id":"pre_004","label":"心血管疾病","type":"select","required":true,"options":[{"label":"无","value":"none"},{"label":"高血压","value":"hypertension"},{"label":"冠心病","value":"chd"},{"label":"心律失常","value":"arrhythmia"},{"label":"其他","value":"other"}]}]},{"id":"template_003","name":"全麻恢复室观察记录","description":"术后恢复室标准监测表，用于记录患者苏醒过程中的各项指标","isPublic":true,"createdBy":"system","createdAt":"2024-03-10","fields":[{"id":"pacu_001","label":"意识状态","type":"select","required":true,"options":[{"label":"清醒","value":"awake"},{"label":"嗜睡","value":"drowsy"},{"label":"浅昏迷","value":"stupor"},{"label":"昏迷","value":"coma"}]},{"id":"pacu_002","label":"疼痛评分","type":"number","required":true,"description":"视觉模拟评分法(VAS)","validation":{"min":0,"max":10,"precision":0},"placeholder":"0-10分"},{"id":"pacu_003","label":"恶心呕吐","type":"checkbox","required":true,"options":[{"label":"无","value":"none"},{"label":"轻度恶心","value":"mild"},{"label":"重度恶心","value":"severe"},{"label":"呕吐","value":"vomiting"}]}]},{"id":"template_004","name":"手术麻醉记录表","description":"用于记录手术麻醉过程中的关键数据和观察指标","isPublic":true,"createdBy":"system","createdAt":"2024-03-15","fields":[{"id":"op_001","label":"麻醉方式","type":"select","required":true,"options":[{"label":"全身麻醉","value":"general"},{"label":"局部麻醉","value":"local"},{"label":"硬膜外麻醉","value":"epidural"},{"label":"腰椎麻醉","value":"spinal"},{"label":"复合麻醉","value":"combined"}]},{"id":"op_002","label":"麻醉用药记录","type":"textarea","required":true,"description":"记录麻醉药物的名称、剂量和给药时间","placeholder":"格式：药品名称 - 剂量 - 给药时间"},{"id":"op_003","label":"术中并发症","type":"checkbox","required":false,"options":[{"label":"无","value":"none"},{"label":"低血压","value":"hypotension"},{"label":"心律失常","value":"arrhythmia"},{"label":"过敏反应","value":"allergy"},{"label":"呼吸抑制","value":"respiratory_depression"}],"layout":"vertical"},{"id":"op_004","label":"出血量","type":"number","required":true,"description":"单位：ml","validation":{"min":0,"max":5000,"precision":0}},{"id":"op_005","label":"输液量","type":"number","required":true,"description":"单位：ml","validation":{"min":0,"max":10000,"precision":0}}]},{"id":"template_005","name":"术后随访记录","description":"用于记录术后患者恢复情况和随访结果","isPublic":true,"createdBy":"system","createdAt":"2024-03-20","fields":[{"id":"follow_001","label":"疼痛情况","type":"radio","required":true,"options":[{"label":"无痛","value":"0"},{"label":"轻度疼痛","value":"1"},{"label":"中度疼痛","value":"2"},{"label":"重度疼痛","value":"3"}],"layout":"horizontal"},{"id":"follow_002","label":"伤口愈合情况","type":"select","required":true,"options":[{"label":"愈合良好","value":"good"},{"label":"轻度感染","value":"mild_infection"},{"label":"愈合不良","value":"poor"},{"label":"需要重新处理","value":"need_treatment"}]},{"id":"follow_003","label":"并发症记录","type":"checkbox","required":true,"options":[{"label":"无并发症","value":"none"},{"label":"切口感染","value":"incision_infection"},{"label":"深静脉血栓","value":"dvt"},{"label":"肺部感染","value":"pneumonia"},{"label":"其他","value":"other"}],"layout":"vertical"}]}]}'),J=(0,x.v)(e=>({templates:H.k,selectedTemplate:null,addTemplate:l=>e(e=>({templates:[...e.templates,l]})),updateTemplate:l=>e(e=>({templates:e.templates.map(e=>e.id===l.id?l:e)})),removeTemplate:l=>e(e=>({templates:e.templates.filter(e=>e.id!==l)})),selectTemplate:l=>e({selectedTemplate:l})})),W=e=>{let{onSelect:l,selectedTemplate:i}=e,a=J(e=>e.templates);return 0===a.length?(0,t.jsx)(G.A,{description:"暂无可用模板"}):(0,t.jsx)(L.A,{grid:{gutter:16,column:2},dataSource:a,renderItem:e=>(0,t.jsx)(L.A.Item,{children:(0,t.jsx)(n.A,{hoverable:!0,onClick:()=>l(e),style:{border:(null==i?void 0:i.id)===e.id?"2px solid #1890ff":void 0},children:(0,t.jsx)(n.A.Meta,{title:(0,t.jsxs)(g.A,{children:[e.name,e.isPublic&&(0,t.jsx)(f.A,{color:"blue",children:"公共"})]}),description:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:e.description}),(0,t.jsxs)("div",{style:{marginTop:8},children:[(0,t.jsxs)(f.A,{color:"default",children:[e.fields.length," 个字段"]}),(0,t.jsxs)(f.A,{color:"default",children:["创建于 ",e.createdAt]})]})]})})})})})},$=()=>{let{dataTemplate:e,setDataTemplate:l}=p(),{sourceFrom:i}=e;return(0,t.jsxs)("div",{style:{minHeight:400},children:[(0,t.jsx)("div",{style:{marginBottom:16},children:(0,t.jsxs)(b.Ay.Group,{value:i,onChange:i=>l({...e,sourceFrom:i.target.value}),children:[(0,t.jsx)(b.Ay.Button,{value:"select",children:"选择已有模板"}),(0,t.jsx)(b.Ay.Button,{value:"create",children:"创建新模板"})]})}),"select"===i?(0,t.jsx)(n.A,{title:"选择模板",extra:(0,t.jsx)(d.Ay,{type:"primary",icon:(0,t.jsx)(A.A,{}),onClick:()=>l({...e,sourceFrom:"create"}),children:"创建新模板"}),children:(0,t.jsx)(W,{onSelect:l,selectedTemplate:e})}):(0,t.jsx)(n.A,{title:"创建新模板",children:(0,t.jsx)(E,{})})]})};var K=i(67649),Q=i(21455),R=i.n(Q);let U=e=>{var l,i;let{template:a,showCard:r=!0}=e,s=(0,t.jsx)(m.A,{layout:"vertical",children:null===(l=a.fields)||void 0===l?void 0:l.map(e=>(0,t.jsx)(z,{field:e},e.id))});return r?(0,t.jsx)(n.A,{title:a.name,extra:(null===(i=a.fields)||void 0===i?void 0:i.length)?"".concat(a.fields.length,"个字段"):void 0,children:s}):s},X=()=>{var e,l,i;let{basicInfo:a,dataTemplate:r}=p();return(0,t.jsxs)("div",{children:[(0,t.jsx)(n.A,{title:"基本信息",bordered:!1,children:(0,t.jsxs)(K.A,{column:1,children:[(0,t.jsx)(K.A.Item,{label:"实验主题",children:a.experimentTitle||"-"}),(0,t.jsx)(K.A.Item,{label:"实验目标",children:a.experimentObjective||"-"}),(0,t.jsx)(K.A.Item,{label:"实验内容",children:a.experimentContent||"-"}),(0,t.jsx)(K.A.Item,{label:"实验周期",children:(null===(e=a.experimentPeriod)||void 0===e?void 0:e[0])&&(null===(l=a.experimentPeriod)||void 0===l?void 0:l[1])?"".concat(R()(a.experimentPeriod[0]).format("YYYY-MM-DD")," 至 ").concat(R()(a.experimentPeriod[1]).format("YYYY-MM-DD")):"-"}),(0,t.jsx)(K.A.Item,{label:"关键产出",children:a.keyOutput||"-"}),(0,t.jsx)(K.A.Item,{label:"关键节点",children:(null===(i=a.keyMilestones)||void 0===i?void 0:i.split("\n").map((e,l)=>(0,t.jsx)("div",{children:e},l)))||"-"})]})}),(0,t.jsx)(y.A,{}),r&&(0,t.jsx)(n.A,{title:"数据采集模板",bordered:!1,extra:r.isPublic&&(0,t.jsx)(f.A,{color:"blue",children:"公共模板"}),children:(0,t.jsx)(U,{template:r,showCard:!1})})]})},Z=[{title:"基本信息",icon:(0,t.jsx)(o.A,{})},{title:"数据模板",icon:(0,t.jsx)(o.A,{})},{title:"预览确认",icon:(0,t.jsx)(o.A,{})}],ee=()=>{let[e,l]=(0,a.useState)(0),{basicInfo:i,dataTemplate:o}=p(),c=async()=>{try{let e={...i,dataTemplate:o};console.log("Success:",e),r.Ay.success("创建成功")}catch(e){r.Ay.error("提交失败")}},u=[(0,t.jsx)(j,{},"basic"),(0,t.jsx)($,{},"template"),(0,t.jsx)(X,{},"preview")];return(0,t.jsxs)(n.A,{title:"创建实验",children:[(0,t.jsx)(s.A,{current:e,items:Z,style:{marginBottom:24}}),(0,t.jsxs)("div",{style:{maxWidth:800,margin:"0 auto"},children:[(0,t.jsx)("div",{style:{minHeight:400},children:u[e]}),(0,t.jsxs)("div",{style:{marginTop:24},children:[e>0&&(0,t.jsx)(d.Ay,{style:{margin:"0 8px"},onClick:()=>{l(e-1)},children:"上一步"}),e<Z.length-1&&(0,t.jsx)(d.Ay,{type:"primary",onClick:()=>{if(0===e&&!i.experimentTitle){r.Ay.error("请完成基本信息填写");return}if(1===e&&!o){r.Ay.error("请选择或创建数据模板");return}l(e+1)},children:"下一步"}),e===Z.length-1&&(0,t.jsx)(d.Ay,{type:"primary",onClick:c,children:"提交"})]})]})]})},el=()=>(0,t.jsx)(ee,{})}},e=>{var l=l=>e(e.s=l);e.O(0,[163,56,93,579,348,373,628,414,910,306,295,945,441,517,358],()=>l(96554)),_N_E=e.O()}]);